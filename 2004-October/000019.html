<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ircbp-commits] IRCBP -  r24 - framework/trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/ircbp-commits/2004-October/index.html" >
   <LINK REL="made" HREF="mailto:ircbp-commits%40lists.berlios.de?Subject=Re%3A%20%5Bircbp-commits%5D%20IRCBP%20-%20%20r24%20-%20framework/trunk&In-Reply-To=%3C200410050408.i95484EL032256%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000018.html">
   <LINK REL="Next"  HREF="000020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ircbp-commits] IRCBP -  r24 - framework/trunk</H1>
    <B>pankey at berlios.de</B> 
    <A HREF="mailto:ircbp-commits%40lists.berlios.de?Subject=Re%3A%20%5Bircbp-commits%5D%20IRCBP%20-%20%20r24%20-%20framework/trunk&In-Reply-To=%3C200410050408.i95484EL032256%40sheep.berlios.de%3E"
       TITLE="[ircbp-commits] IRCBP -  r24 - framework/trunk">pankey at berlios.de
       </A><BR>
    <I>Tue Oct  5 06:08:04 CEST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000018.html">[ircbp-commits] IRCBP -  r23 - framework/trunk
</A></li>
        <LI>Next message: <A HREF="000020.html">[ircbp-commits] IRCBP -  r25 - / website website/trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19">[ date ]</a>
              <a href="thread.html#19">[ thread ]</a>
              <a href="subject.html#19">[ subject ]</a>
              <a href="author.html#19">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: pankey
Date: 2004-10-05 06:08:03 +0200 (Tue, 05 Oct 2004)
New Revision: 24

Modified:
   framework/trunk/CHANGELOG
   framework/trunk/ircbp.py
Log:
Added !part command...realized this ChangeLog is backwards...should be top with newest changes

Modified: framework/trunk/CHANGELOG
===================================================================
--- framework/trunk/CHANGELOG	2004-10-03 20:20:49 UTC (rev 23)
+++ framework/trunk/CHANGELOG	2004-10-05 04:08:03 UTC (rev 24)
@@ -23,4 +23,5 @@
 NJ - 02/10/04 - Fixed bug #2556 (Comparing strings may fail because of case)
 NJ - 03/10/04 - Added more comments so that it's more spaced out where the !say commands are etc
 NJ - 03/10/04 - Started to implement the ability to have multiple prefixes, sadly i realised that my way of checking will cause problems.  The call for it has being commented out and put back to the original but it is something we should look at making better in the future.
-BP - 03/10/04 - Added a bash script to copy unix files to windows .txt format =)
\ No newline at end of file
+BP - 03/10/04 - Added a bash script to copy unix files to windows .txt format =)
+BP - 03/10/04 - Added !part command...realized this ChangeLog is backwards...should be top with newest changes
\ No newline at end of file

Modified: framework/trunk/ircbp.py
===================================================================
--- framework/trunk/ircbp.py	2004-10-03 20:20:49 UTC (rev 23)
+++ framework/trunk/ircbp.py	2004-10-05 04:08:03 UTC (rev 24)
@@ -290,6 +290,22 @@
 		    # Oh dear they cycle our bot!
 		    irccommand(&quot;PRIVMSG &quot; + CHANNEL + &quot; :No privledges for this command!&quot;)
 
+            # Part Command
+
+	    if string.upper(string.lstrip(msg[3], ':')) == string.upper('!part'):
+                partmessage = ' '.join(msg[4:])
+		if privcheck(HOSTMASK):
+		    print &quot;Parting!&quot;
+		    irccommand(&quot;PRIVMSG &quot; + CHANNEL + &quot; :buh-bye now! =)&quot;)
+		    irccommand(&quot;PART &quot; + CHANNEL + &quot; :Part from %s&quot; % nick_name)
+		elif privcheck(HOSTMASK):
+                    print &quot;Parting!&quot;
+                    irccommand(&quot;PRIVMSG &quot; + CHANNEL + &quot; :buh-bye now! =)&quot;)
+		    irccommand(&quot;PART &quot; + CHANNEL + &quot; %s&quot; % partmessage)
+		else:
+		    # Oh dear they tried to part our bot!
+		    irccommand(&quot;PRIVMSG &quot; + CHANNEL + &quot; :No privledges for this command!&quot;)
+
 	    # Quit Command
 
 	    if string.upper(string.lstrip(msg[3], ':')) == string.upper('!quit'):


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000018.html">[ircbp-commits] IRCBP -  r23 - framework/trunk
</A></li>
	<LI>Next message: <A HREF="000020.html">[ircbp-commits] IRCBP -  r25 - / website website/trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19">[ date ]</a>
              <a href="thread.html#19">[ thread ]</a>
              <a href="subject.html#19">[ subject ]</a>
              <a href="author.html#19">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/ircbp-commits">More information about the ircbp-commits
mailing list</a><br>
</body></html>
